(this["webpackJsonpkalimaty-admin"]=this["webpackJsonpkalimaty-admin"]||[]).push([[0],{17:function(e,t,a){e.exports=a(32)},22:function(e,t,a){},23:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),c=a.n(o),s=(a(22),a(23),a(5)),i=a.n(s),l=a(9),u=a(8),d=(a(25),a(13)),p=a(10),m=function(e){var t=new Map(e.categories),a=Object(n.useState)(!1),o=Object(u.a)(a,2),c=o[0],s=o[1],i=function(){s(!c)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{onDoubleClick:i,className:"word-el name"},e.data.name),r.a.createElement("p",{onDoubleClick:i,className:"word-el"},e.data.pronunciation),r.a.createElement("p",{onDoubleClick:i,className:"word-el"},e.data.definition),r.a.createElement("p",{onDoubleClick:i,className:"word-el"},e.data.examples[0]),r.a.createElement("p",{onDoubleClick:i,className:"word-el"},t.get(e.data.category[0])),r.a.createElement("p",{onDoubleClick:i,className:"word-el"},e.data.imageLink),r.a.createElement(p.a,{show:c,onHide:i},r.a.createElement(p.a.Header,{closeButton:!0},r.a.createElement(p.a.Title,null,"Confirm Action")),r.a.createElement(p.a.Body,null,"Are you sure you want to delete the word ",r.a.createElement("b",null,e.data.name)),r.a.createElement(p.a.Footer,null,r.a.createElement(d.a,{variant:"secondary",onClick:i},"Close"),r.a.createElement(d.a,{variant:"danger",onClick:function(){s(!1),e.deleteWord(e.data.id)}},"Delete"))))},f=a(11),g=a(12),h=function(e){var t=Object(n.useState)({name:"",pronunciation:"",definition:"",examples:"",category:e.categories[0][0],imageLink:""}),a=Object(u.a)(t,2),o=a[0],c=a[1],s=function(e){var t=e.target.value;c(Object(g.a)(Object(g.a)({},o),{},Object(f.a)({},e.target.name,t)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){e.addWord(o)},className:"add-btn"},"Add Word"),r.a.createElement("p",{className:"s"},"Phrase"),r.a.createElement("p",{className:"s"},"Pronunciation"),r.a.createElement("p",{className:"s"},"Definition"),r.a.createElement("p",{className:"s"},"Example"),r.a.createElement("p",{className:"s"},"Category"),r.a.createElement("p",{className:"s"},"Photo"),r.a.createElement("textarea",{key:1,name:"name",onChange:s,value:o.name,type:"text",className:"phrase-i input",placeholder:"phrase"}),r.a.createElement("textarea",{key:2,name:"pronunciation",onChange:s,value:o.pronunciation,type:"text",className:"pronunciation-i input",placeholder:"pronunciation"}),r.a.createElement("textarea",{key:3,name:"definition",onChange:s,value:o.definition,type:"text",className:"definiton-i input",placeholder:"definition"}),r.a.createElement("textarea",{key:4,name:"examples",onChange:s,value:o.example,type:"text",className:"example-i input",placeholder:"example"}),r.a.createElement("div",{key:5,className:"select-box"},r.a.createElement("select",{name:"category",value:o.category,onChange:s},e.categories.map((function(e){return r.a.createElement("option",{key:e[0],value:e[0]},e[1])})))),r.a.createElement("textarea",{key:6,name:"imageLink",onChange:s,value:o.photo,type:"text",className:"example-i input",placeholder:"photo link"}))},v={getFromLocalStorage:function(e){var t=localStorage.getItem(e);return"undefined"!==t&&t?JSON.parse(t):[]},setToLocalStorage:function(e,t){localStorage.setItem(e,JSON.stringify(t))},structureWord:function(e){return{category:parseInt(e.category,10),definition:e.definition,examples:e.examples.split("\n"),imageLink:e.imageLink,name:e.name,pronunciation:e.pronunciation}},createNewWord:function(e,t){var a=e,n=[];return n.push(parseInt(a.category,10)),a.id=t,a.category=n,a}},y=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("request made"),"https://us-central1-dictionary-1576615618624.cloudfunctions.net/widgets/shared/api/categories",e.prev=2,e.next=5,fetch("https://us-central1-dictionary-1576615618624.cloudfunctions.net/widgets/shared/api/categories");case 5:return t=e.sent,e.next=8,t.json();case 8:return a=e.sent,e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Request made: Get Words"),"https://us-central1-dictionary-1576615618624.cloudfunctions.net/widgets/shared/api/words",e.prev=2,e.next=5,fetch("https://us-central1-dictionary-1576615618624.cloudfunctions.net/widgets/shared/api/words");case 5:return t=e.sent,e.next=8,t.json();case 8:return a=e.sent,e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(l.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Request made: Delete Word"),a="https://us-central1-dictionary-1576615618624.cloudfunctions.net/widgets/shared/api/words/?id=".concat(parseInt(t,10)),e.prev=2,e.next=5,fetch(a,{method:"delete"});case 5:e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),b={getCategories:y,getWords:E,putWord:function(){var e=Object(l.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Request made: Put Word"),"https://us-central1-dictionary-1576615618624.cloudfunctions.net/widgets/shared/api/addWord",e.prev=2,e.next=5,fetch("https://us-central1-dictionary-1576615618624.cloudfunctions.net/widgets/shared/api/addWord",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 5:return a=e.sent,e.next=8,a.json();case 8:return n=e.sent,e.abrupt("return",n);case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),deleteWord:w},k=a(16),x=a.n(k),N=function(){var e=Object(n.useState)(v.getFromLocalStorage("words")),t=Object(u.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(v.getFromLocalStorage("categories")),s=Object(u.a)(c,2),d=s[0],p=s[1],f=r.a.useReducer((function(e){return!e}))[1],g=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,r,c,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.structureWord(t),e.next=3,b.putWord(n);case 3:r=e.sent.generated_id,c=a,s=v.createNewWord(t,r),c.push(s),o(c),f();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){for(var t=a,n=0;n<t.length;n++)if(t[n].id==e){t.splice(n,1);break}b.deleteWord(e),o(t),f()};return Object(n.useEffect)((function(){0==a.length&&b.getWords().then((function(e){console.log(e),o(e),v.setToLocalStorage("words",e)}))}),[]),Object(n.useEffect)((function(){0==d.length&&b.getCategories().then((function(e){console.log(e),p(e),v.setToLocalStorage("categories",e)}))}),[]),"undefined"===typeof a?r.a.createElement("h1",null,"Error"):r.a.createElement("div",{className:"words-box"},r.a.createElement(h,{categories:d,addWord:g}),a.map((function(e){return r.a.createElement(x.a,{key:e.timeAdded},r.a.createElement(m,{key:e.id,data:e,categories:d,deleteWord:y}))})))};var j=function(){return r.a.createElement(N,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.c687cbc6.chunk.js.map